# 📄 中期的な推奨銘柄予想アプリ 仕様書（Markdown版）

## 1. アプリ概要
- **目的**
  初心者でも「どの銘柄を買って、いつ売ればいいか」が分かるように、AIが中期（数週間〜数か月）の推奨銘柄をランキング形式で提示する。

- **設計方針**
  - **第1段階（CUI + API）**
    - ターミナルやコマンドラインで銘柄と推奨アクションを表示
    - APIを通じてデータ取得・予測結果を返却
  - **第2段階（GUI）**
    - Webアプリ/スマホアプリに拡張
    - APIの出力形式をそのまま利用してGUI表示

## 2. 利用者像
- 投資初心者（株歴0〜3年程度）
- 「難しい指標より、買う・売る・待つがすぐに知りたい人」
- 数週間〜数か月単位で投資する人（スイング〜中期投資向け）

## 3. 出力イメージ

### 🔹 CUI表示例
=== 今週のおすすめ銘柄（30〜90日向け） ===

[1位] トヨタ自動車 (7203)
   ✅ 買うタイミング: 今週中に「昨日の高値」を超えたら買い
   💰 目安の購入価格: 3,250円前後
   🛑 損切り目安: 3,150円（購入価格より約-3%）
   🎯 利益目標: 3,450円（+6%）、3,600円（+10%）
   📅 保有期間の目安: 1〜2か月

[2位] ソニーグループ (6758)
   ✅ 買うタイミング: 株価が20日平均線に戻ったら買い
   💰 目安の購入価格: 12,100円前後
   🛑 損切り目安: 11,700円（約-3%）
   🎯 利益目標: 12,900円（+6%）、13,300円（+10%）
   📅 保有期間の目安: 2〜3か月

### 🔹 GUI表示イメージ
- **ランキングカード形式**
  - 「買うなら今週」「売るのは2か月以内」など、文章でアドバイス
- **チャート表示**
  - 緑ゾーン＝買いエリア
  - 赤ライン＝損切りライン
  - 青ライン＝利益目標

## 4. 機能概要
### データ取得
- 株価（日足データ）
- 財務指標（EPS, PER, ROEなど）
- ニュースやSNSのポジ/ネガ判定（将来的に追加予定）

### 予測モデル
- **XGBoost/LightGBM** → 銘柄スコアリング
- **LSTM/Transformer** → 株価の時系列予測（30〜90日先）
- 出力：推奨度スコア（0〜100）、買いサイン／売りサインの文章化

### 出力内容
- ランキング（デフォルトはTOP5、必要に応じて任意件数を指定可能）
- 銘柄ごとの詳細アドバイス（買い条件・購入価格・損切り・利益目標・保有期間）

## 5. システム構成
### 第1段階（CUI + API）
- **バックエンド**: Python (FastAPI)
- **CUIクライアント**: `python recommend.py --top 5`（`--top` を省略した場合はTOP5を表示。任意の件数を指定可能）
- **出力形式**: JSON + テキスト

### 第2段階（GUI）
- **フロント**: React / Next.js
- **可視化**: D3.js / Plotly
- **機能**: ランキングカード表示、チャートへの買い/売りサイン描画

## 6. 開発ステップ
1. MVP（CUI+API）
2. バックテスト機能
3. GUI化
4. 拡張機能（LINE通知、SNSセンチメント分析など）

## ✅ まとめ
- 初心者向けに「買う・売る・待つ」を文章と価格目安で明示
- 開発は **CUI＋API → GUI拡張** の段階方式
- JSON仕様をベースにすることで拡張性を確保